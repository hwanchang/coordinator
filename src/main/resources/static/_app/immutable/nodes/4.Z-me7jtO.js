import{t as c,a as n}from"../chunks/DyJux5AM.js";import"../chunks/TPdjuWMd.js";import{p as X,a as Y,c as r,s as e,r as t,t as _,g as F}from"../chunks/CZkFhCqJ.js";import{e as Z,s as p}from"../chunks/Df5S150I.js";import{i as w,a as tt,s as $}from"../chunks/BW_ZcXfj.js";import{e as rt,i as at}from"../chunks/D27sE8o2.js";import{i as et}from"../chunks/BaMhqmz6.js";import{o as st}from"../chunks/D9-DIcJb.js";import{w as B}from"../chunks/DcV-m7ys.js";var ot=c('<p class="text-gray-700">로딩 중...</p>'),lt=c('<p class="text-red-500"> </p>'),nt=c('<tr class="hover:bg-gray-100"><td class="border border-gray-300 px-4 py-2 text-center"> </td><td class="border border-gray-300 px-4 py-2 text-center font-bold"> </td></tr>'),pt=c('<div class="w-full max-w-4xl bg-white p-6 rounded-lg shadow-md"><p class="text-lg font-semibold">브랜드: <span class="text-blue-600"> </span></p> <table class="w-full border-collapse border border-gray-200 mt-4"><thead class="bg-gray-200"><tr><th class="border border-gray-300 px-4 py-2">카테고리</th><th class="border border-gray-300 px-4 py-2">가격</th></tr></thead><tbody></tbody></table> <p class="text-lg font-semibold text-right mt-4">총액: <span class="text-blue-600"> </span></p></div>'),ct=c('<main class="flex flex-col items-center justify-center min-h-screen bg-gray-50 p-8 gap-8"><button class="absolute top-4 left-4 px-4 py-2 bg-gray-200 text-white rounded hover:bg-gray-400 transition">← 뒤로가기</button> <h1 class="text-2xl font-bold mb-4">전체 브랜드 중 최저가 브랜드의 상품 가격 및 총액</h1> <!></main>');function ht(G,H){X(H,!1);const[d,I]=tt(),J=()=>$(b,"$loading",d),k=()=>$(E,"$error",d),i=()=>$(j,"$bestBrand",d),j=B(null),b=B(!0),E=B(null),K=async()=>{b.set(!0);try{const s=await(await fetch("http://localhost:8080/api/v1/products/lowest-price-by-brands")).json();if(s.isSucceeded)j.set(s.result.최저가);else throw new Error("데이터를 불러오는데 실패했습니다.")}catch{E.set("최저가 브랜드 정보를 불러오는데 실패했습니다.")}finally{b.set(!1)}};st(()=>{K()}),et();var v=ct(),M=r(v),L=e(M,4);{var N=a=>{var s=ot();n(a,s)},O=(a,s)=>{{var P=o=>{var l=lt(),f=r(l,!0);t(l),_(()=>p(f,k())),n(o,l)},Q=(o,l)=>{{var f=m=>{var g=pt(),x=r(g),S=e(r(x)),R=r(S,!0);t(S),t(x);var u=e(x,2),q=e(r(u));rt(q,5,()=>i().카테고리,at,(U,C)=>{var h=nt(),y=r(h),V=r(y,!0);t(y);var D=e(y),W=r(D);t(D),t(h),_(()=>{p(V,F(C).카테고리),p(W,`${F(C).가격??""}원`)}),n(U,h)}),t(q),t(u);var z=e(u,2),A=e(r(z)),T=r(A);t(A),t(z),t(g),_(()=>{p(R,i().브랜드),p(T,`${i().총액??""}원`)}),n(m,g)};w(o,m=>{i()&&m(f)},l)}};w(a,o=>{k()?o(P):o(Q,!1)},s)}};w(L,a=>{J()?a(N):a(O,!1)})}t(v),Z("click",M,()=>history.back()),n(G,v),Y(),I()}export{ht as component};
