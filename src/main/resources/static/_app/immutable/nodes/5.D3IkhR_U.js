import{t as n,a as i}from"../chunks/DyJux5AM.js";import"../chunks/TPdjuWMd.js";import{p as W,a as X,c as r,s as l,r as t,t as u,e as Y,g as _}from"../chunks/CZkFhCqJ.js";import{e as Z,s as p}from"../chunks/Df5S150I.js";import{i as S,a as tt,s as b}from"../chunks/BW_ZcXfj.js";import{e as rt,i as et}from"../chunks/D27sE8o2.js";import{i as at}from"../chunks/BaMhqmz6.js";import{o as st}from"../chunks/D9-DIcJb.js";import{w as g}from"../chunks/DcV-m7ys.js";var ot=n('<p class="text-gray-700">로딩 중...</p>'),lt=n('<p class="text-red-500"> </p>'),ct=n('<tr class="hover:bg-gray-100"><td class="border border-gray-300 px-4 py-2 text-center"> </td><td class="border border-gray-300 px-4 py-2 text-center"> </td><td class="border border-gray-300 px-4 py-2 text-center font-bold"> </td></tr>'),it=n('<div class="w-full max-w-4xl bg-white p-6 rounded-lg shadow-md"><table class="w-full border-collapse border border-gray-200"><thead class="bg-gray-200"><tr><th class="border border-gray-300 px-4 py-2">카테고리</th><th class="border border-gray-300 px-4 py-2">브랜드</th><th class="border border-gray-300 px-4 py-2">가격</th></tr></thead><tbody></tbody></table> <p class="text-lg font-semibold text-right mt-4">총액: <span class="text-blue-600"> </span></p></div>'),pt=n('<main class="flex flex-col items-center justify-center min-h-screen bg-gray-50 p-8 gap-8"><button class="absolute top-4 left-4 px-4 py-2 bg-gray-200 text-white rounded hover:bg-gray-400 transition">← 뒤로가기</button> <h1 class="text-2xl font-bold mb-4">카테고리별 최저가 상품들의 가격 및 총액</h1> <!></main>');function ht(z,A){W(A,!1);const[d,B]=tt(),D=()=>b(v,"$loading",d),w=()=>b(k,"$error",d),F=()=>b($,"$categories",d),G=()=>b(j,"$totalPrice",d),$=g([]),j=g(0),v=g(!0),k=g(null),H=async()=>{v.set(!0);try{const a=await(await fetch("http://localhost:8080/api/v1/products/lowest-price-by-categories")).json();if(a.isSucceeded)$.set(a.result.카테고리),j.set(a.result.총액);else throw new Error("데이터를 불러오는데 실패했습니다.")}catch{k.set("카테고리 정보를 불러오는데 실패했습니다.")}finally{v.set(!1)}};st(()=>{H()}),at();var f=pt(),P=r(f),I=l(P,4);{var J=e=>{var a=ot();i(e,a)},K=(e,a)=>{{var L=o=>{var s=lt(),c=r(s,!0);t(s),u(()=>p(c,w())),i(o,s)},N=o=>{var s=it(),c=r(s),q=l(r(c));rt(q,5,F,et,(Q,x)=>{var y=ct(),m=r(y),R=r(m,!0);t(m);var h=l(m),T=r(h,!0);t(h);var M=l(h),U=r(M);t(M),t(y),u(V=>{p(R,_(x).카테고리),p(T,V),p(U,`${_(x).가격??""}원`)},[()=>_(x).브랜드.join(", ")],Y),i(Q,y)}),t(q),t(c);var C=l(c,2),E=l(r(C)),O=r(E);t(E),t(C),t(s),u(()=>p(O,`${G()??""}원`)),i(o,s)};S(e,o=>{w()?o(L):o(N,!1)},a)}};S(I,e=>{D()?e(J):e(K,!1)})}t(f),Z("click",P,()=>history.back()),i(z,f),X(),B()}export{ht as component};
